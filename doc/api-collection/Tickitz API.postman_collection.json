{
	"info": {
		"_postman_id": "d3c05182-76bf-44bb-82e7-ad5c4dd3c27e",
		"name": "Tickitz API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "17089615"
	},
	"item": [
		{
			"name": "[REQ] Get Movies",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:3000/movies",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"movies"
					]
				}
			},
			"response": []
		},
		{
			"name": "[REQ] Get Movie By Id",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.environment.set(\"id\", pm.response.json().data[0].id)\r",
							"pm.environment.set(\"name\", pm.response.json().data[0].name)\r",
							"pm.environment.set(\"release_date\", pm.response.json().data[0].release_date)\r",
							"pm.environment.set(\"duration\", pm.response.json().data[0].duration)\r",
							"pm.environment.set(\"genres\", JSON.stringify(pm.response.json().data[0].genres))\r",
							"pm.environment.set(\"directedby\", pm.response.json().data[0].directed_by)\r",
							"pm.environment.set(\"casts\", JSON.stringify(pm.response.json().data[0].casts))\r",
							"pm.environment.set(\"synopsis\", pm.response.json().data[0].synopsis)\r",
							"pm.environment.set(\"poster\", pm.response.json().data[0].poster)"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:3000/movies/2",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"movies",
						"2"
					]
				}
			},
			"response": []
		},
		{
			"name": "[OPT] Search movie + Sort by year",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var template = `",
							"<style type=\"text/css\">",
							"    .tftable {font-size:14px;color:#333333;width:100%;border-width: 1px;border-color: #87ceeb;border-collapse: collapse;}",
							"    .tftable th {font-size:18px;background-color:#87ceeb;border-width: 1px;padding: 8px;border-style: solid;border-color: #87ceeb;text-align:left;}",
							"    .tftable tr {background-color:#ffffff;}",
							"    .tftable td {font-size:14px;border-width: 1px;padding: 8px;border-style: solid;border-color: #87ceeb;}",
							"    .tftable tr:hover {background-color:#e0ffff;}",
							"</style>",
							"",
							"<table class=\"tftable\" border=\"1\">",
							"    <tr>",
							"        <th>ID</th>",
							"        <th>Name</th>",
							"        <th>Duration</th>",
							"        <th>Genres</th>",
							"        <th>Poster</th>",
							"    </tr>",
							"    ",
							"    {{#each response.data}}",
							"        <tr id=row_{{@key}}>",
							"            <td>{{id}}</td>",
							"            <td>{{name}}</td>",
							"            <td>{{duration}}</td>",
							"            <td>{{genres}}</td>",
							"            <td>{{poster}}</td>",
							"        </tr>",
							"    {{/each}}",
							"</table>",
							"`;",
							"",
							"function constructVisualizerPayload() {",
							"    var res = pm.response.json();",
							"    ",
							"    return {response: res};",
							"}",
							"",
							"pm.visualizer.set(template, constructVisualizerPayload());"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:3000/movies?search=petualangan&year=desc",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"movies"
					],
					"query": [
						{
							"key": "search",
							"value": "petualangan",
							"description": "Search anything like a keyword"
						},
						{
							"key": "year",
							"value": "desc",
							"description": "Sorting by year [ asc | desc | default by id ]"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "[REQ] Add Movie",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"name\": \"L.DK\",\r\n  \"release_date\": \"2014-04-11T00:00:00.000Z\",\r\n  \"duration\": \"113 min\",\r\n  \"genres\": [\r\n      \"Comedy\",\r\n      \"Drama\",\r\n      \"Romance\"\r\n  ],\r\n  \"directed_by\": \"Taisuke Kawamura\",\r\n  \"casts\": [\r\n      \"Comedy\",\r\n      \"Drama\",\r\n      \"Romance\"\r\n  ],\r\n  \"synopsis\": \"Aoi lives in an apartment by herself. Shusei moves in next to Aoi's apartment. Shusei is a very popular student. Due to a mistake, Aoi makes the sprinkler go off in his room. Until his room is fixed, he stays with Aoi.\",\r\n  \"poster\": \"https://m.media-amazon.com/images/M/MV5BNTYwOGEyMGItMjcyYS00ZDgzLWJmYjEtNWEwODMyNzc1NDExXkEyXkFqcGdeQXVyNTI4MDA2NDE@._V1_SX300.jpg\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:3000/movies",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"movies"
					]
				}
			},
			"response": []
		},
		{
			"name": "[IMP] Add Movie By Imdb Id",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"imdbId\": \"tt13370162\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:3000/movies/imdb",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"movies",
						"imdb"
					]
				}
			},
			"response": []
		},
		{
			"name": "[REQ] Get Cinemas",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:3000/cinemas",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"cinemas"
					]
				}
			},
			"response": []
		},
		{
			"name": "[REQ] Get Spesific Cinema",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "localhost:3000/cinemas/1",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"cinemas",
						"1"
					]
				}
			},
			"response": []
		},
		{
			"name": "[REQ] Add Cinema",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "        {\r\n            \"movie_id\": 3,\r\n            \"name\": \"CGV Cinemas Pacific Place\",\r\n            \"city\": \"South Jakarta\",\r\n            \"address\": \"Pacific Place Lt. 6. Jln. Jend. Sudirman Kav 52-53, SCBD Jakarta\",\r\n            \"show_times\": [\r\n                \"11:30\",\r\n                \"14:00\",\r\n                \"16:30\",\r\n                \"19:00\",\r\n                \"19:50\",\r\n                \"21:30\"\r\n            ],\r\n            \"price\": 75000,\r\n            \"logo\": \"https://upload.wikimedia.org/wikipedia/commons/6/6c/CGV_Cinemas.svg\"\r\n        }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:3000/cinemas",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"cinemas"
					]
				}
			},
			"response": []
		}
	]
}